<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Happy Birthday Naomie üéÇ</title>

<style>
:root{ --bgImg: url("images/bg.jpg"); }

*{ box-sizing:border-box; }

body{
  margin:0;
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
  color:#111;
  background:
    radial-gradient(1200px 500px at 50% 60%, rgba(0,0,0,.08), transparent 65%),
    linear-gradient(180deg, rgba(255,255,255,.55), rgba(255,255,255,.72)),
    var(--bgImg);
  background-size:cover;
  background-position:center;
}

.card{
  width:min(820px,92vw);
  background:rgba(255,255,255,.72);
  border-radius:28px;
  padding:30px;
  backdrop-filter:blur(12px);
  box-shadow:0 30px 90px rgba(0,0,0,.18);
  text-align:center;
  position:relative;
  overflow:hidden;
}

h1{ font-size:34px; margin:0 0 10px; }
p{ margin:0; opacity:.9; line-height:1.5; }

button{
  margin-top:20px;
  padding:12px 20px;
  border-radius:14px;
  border:none;
  cursor:pointer;
  font-weight:900;
  background:linear-gradient(135deg,#BEC8D1,#E4E5E9);
  color:#111;
  box-shadow:0 14px 40px rgba(0,0,0,.08);
  transition:.2s;
}
button:hover{ transform:translateY(-2px); }

.slide{ display:none; }
.slide.active{ display:block; }

.heroImage{
  width:min(520px,92%);
  margin:0 auto 20px;
}
.heroImage img{ width:100%; display:block; }

.photoBox{
  width:min(640px,96%);
  margin:20px auto 0;
  border-radius:22px;
  overflow:hidden;
  aspect-ratio:16/9;
  box-shadow:0 18px 60px rgba(0,0,0,.10);
  background:rgba(255,255,255,.65);
}
.photoBox img{ width:100%; height:100%; object-fit:cover; display:block; }

/* =========================
   GIFT SLIDE
   ========================= */

.giftSlide{
  position:relative;
  min-height:560px;
  padding:18px 10px 10px;
}

.giftHeader{
  position:absolute;
  left:50%;
  top:40%;
  transform:translate(-50%,-50%);
  z-index:10;
  width:100%;
  pointer-events:none;
}

.giftTitle{
  font-size:34px;
  font-weight:1000;
  margin:0 0 14px;
  letter-spacing:-.2px;
}

.giftStack{
  width:min(650px,92%);
  margin:0 auto;
  display:grid;
  gap:14px;
}

.giftPill{
  padding:16px 18px;
  border-radius:999px;
  background:rgba(255,255,255,.88);
  box-shadow:0 16px 55px rgba(0,0,0,.10);
  font-weight:650;
  opacity:.95;
}

/* footer note */
.giftFootnote{
  position:absolute;
  left:50%;
  bottom:18px;
  transform:translateX(-50%);
  width:min(650px,92%);
  font-size:13px;
  opacity:.65;
  z-index:10;
  pointer-events:none;
}
.giftFootnote b{ font-weight:900; }

/* bigger hover surface */
.floatZone{
  position:absolute;
  inset:-22px;
  pointer-events:auto;
  z-index:2;
}

/* floating items */
.tag, .emojiFloat{
  position:absolute;
  transform:translate(-50%,-50%);
  pointer-events:none;
  opacity:0;
  transition:opacity .55s ease, transform .55s ease;
  will-change:transform,left,top;
}

/* options: smaller font, no white pill */
.tag{
  padding:0;
  border-radius:0;
  background:transparent;
  box-shadow:none;
  font-weight:550;
  font-size:12px;
  white-space:nowrap;
  opacity:.9;
  text-shadow:0 10px 22px rgba(0,0,0,.10);
}

.emojiFloat{
  font-size:22px;
  filter:drop-shadow(0 10px 18px rgba(0,0,0,.12));
  opacity:.9;
}

.tag.show, .emojiFloat.show{
  opacity:1;
  transform:translate(-50%,-50%) scale(1);
}

@media (max-width:520px){
  .card{ padding:22px; }
  h1{ font-size:28px; }
  .giftTitle{ font-size:24px; }
  .giftPill{ border-radius:22px; }
  .giftSlide{ min-height:590px; }
  .giftHeader{ top:42%; }
  .tag{ font-size:11px; }
}
</style>
</head>

<body>

<div class="card">

  <!-- SLIDE 0 -->
  <div class="slide active">
    <div class="heroImage">
      <img src="images/monanniversaire.png" alt="">
    </div>
    <h1>Joyeux Anniversaire Naomie üéâ</h1>
    <p>M√™me si tu es loin, on est pr√®s de toi !</p>
    <button onclick="next()">D√©bloque la suite üîì</button>
  </div>

  <!-- SLIDE 1 -->
  <div class="slide">
    <h1>De la part de üíû</h1>
    <p>Lucie, Anthony, Chlo√© & Hortense</p>
    <div class="photoBox">
      <img src="images/lessurvivors.jpg" alt="">
    </div>
    <button onclick="next()">D√©bloque la suite üîì</button>
  </div>

  <!-- SLIDE 2 -->
  <div class="slide">
    <h1>On pense √† toi, √† ta d√©tente et √† ton bien-√™tre...</h1>
    <p>Donc pour tes <b>27 ans</b>, on te souhaite <b>un cr√¢ne bien d√©tendu</b>.</p>
    <button onclick="next()">D√©couvre ton cadeau ‚ú®</button>
  </div>

  <!-- SLIDE 3 -->
  <div class="slide giftSlide" id="giftSlide">

    <div class="giftHeader">
      <!-- removed "(enter)" -->
      <div class="giftTitle">üíÜ‚Äç‚ôÄÔ∏è Une S√©ance de Head Spa Japonais üåü</div>

      <div class="giftStack">
        <div class="giftPill">
          Une s√©ance compl√®te incluant d√©tente profonde et soin capillaire.
        </div>
      </div>
    </div>

    <div class="giftFootnote">
      Merci de contacter <b>Mme Lucie Dubourdieu</b> pour r√©cup√©rer votre lot üë©‚Äç‚úàÔ∏è
    </div>

    <div class="floatZone" id="floatZone"></div>

  </div>

</div>

<script>
let current=0;
const slides=document.querySelectorAll(".slide");

function next(){
  slides[current].classList.remove("active");
  current++;
  slides[current].classList.add("active");
  if(slides[current].id==="giftSlide") startMagnetic();
}

/* =========================
   FLOAT / MAGNETIC ENGINE
   Better mix + around title
   ========================= */

const items=[
  "Bain des pieds pr√©lassant aux herbes",
  "Massage relaxant Guasha",
  "Stimulation avec accessoires",
  "Anneau dor√© + infusion chaude",
  "Nettoyage / Exfoliation",
  "Serviette cr√©pitante & Shiatsu Bambou",
  "Masque hydratant sous vapeur",
  "Modelage bras Hot Stone",
  "Gel√©e capillaire Aloe",
  "√âtirements serviette chaude"
];

const baseEmojis=["üßñ‚Äç‚ôÄÔ∏è","üçÉ","üßò‚Äç‚ôÄÔ∏è","‚òÅÔ∏è","ü§ç"];
const emojis = baseEmojis.flatMap(e => [e,e,e,e]); // each emoji appears 4 times

let started=false;
const blobs=[];
const pointer={x:-9999,y:-9999,active:false};

function rand(a,b){return Math.random()*(b-a)+a;}
function clamp(v,a,b){return Math.max(a,Math.min(b,v));}

function shuffle(arr){
  for(let i=arr.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [arr[i],arr[j]]=[arr[j],arr[i]];
  }
  return arr;
}

function startMagnetic(){
  if(started) return;
  started=true;

  const zone=document.getElementById("floatZone");

  zone.addEventListener("mousemove",e=>{
    const r=zone.getBoundingClientRect();
    pointer.x=((e.clientX-r.left)/r.width)*100;
    pointer.y=((e.clientY-r.top)/r.height)*100;
    pointer.active=true;
  });
  zone.addEventListener("mouseleave",()=>pointer.active=false);

  // Center closer to title so it "orbits the gift"
  const ORBIT_CENTER = { x: 50, y: 34 };

  // Keep clear: title line + pill + footnote
  function isForbidden(x,y){
    const inTitleLine = (x>10 && x<90 && y>24 && y<40); // title band
    const inPill      = (x>16 && x<84 && y>40 && y<56); // pill band
    const inFoot      = (x>12 && x<88 && y>86);         // footer band
    return inTitleLine || inPill || inFoot;
  }

  // Build a single mixed list (words + emojis), shuffle it
  const mixed = [];
  items.forEach(t => mixed.push({type:"tag", text:t}));
  emojis.forEach(e => mixed.push({type:"emojiFloat", text:e}));
  shuffle(mixed);

  function create(entry,i,total){
    const el=document.createElement("div");
    el.className=entry.type;
    el.textContent=entry.text;
    zone.appendChild(el);

    // Two-ring orbit to look more "mixed"
    const ring = (i % 2); // 0 or 1
    const baseRadius = ring===0 ? rand(18,28) : rand(28,40);

    // spread evenly + jitter
    const angle = (i/total) * Math.PI * 2 + rand(-0.22,0.22);

    let baseX = ORBIT_CENTER.x + Math.cos(angle)*baseRadius;
    let baseY = ORBIT_CENTER.y + Math.sin(angle)*baseRadius;

    // if forbidden, push outwards along the angle (so it stays around)
    let tries=0;
    while(isForbidden(baseX,baseY) && tries<90){
      baseX += Math.cos(angle) * 1.2;
      baseY += Math.sin(angle) * 1.2;
      tries++;
    }

    // clamp to zone
    baseX = clamp(baseX, 4, 96);
    baseY = clamp(baseY, 8, 86);

    const obj={
      el,
      baseX, baseY,
      x:baseX, y:baseY,
      vx:0, vy:0,
      phase:rand(0,Math.PI*2),
      drift:rand(0.10,0.24)
    };

    blobs.push(obj);
    setTimeout(()=>el.classList.add("show"),160+i*55);
  }

  mixed.forEach((entry,i)=>create(entry,i,mixed.length));

  animate();
}

function animate(){
  requestAnimationFrame(animate);
  const t = performance.now();

  blobs.forEach(b=>{
    // levitation
    const levX = Math.sin(t*0.001 + b.phase) * (0.35 * (b.drift*10));
    const levY = Math.cos(t*0.00115 + b.phase) * (0.35 * (b.drift*10));

    const targetX = b.baseX + levX;
    const targetY = b.baseY + levY;

    // spring
    b.vx += (targetX - b.x) * 0.02;
    b.vy += (targetY - b.y) * 0.02;

    // repel mouse (bigger radius)
    if(pointer.active){
      const dx=b.x-pointer.x;
      const dy=b.y-pointer.y;
      const dist=Math.sqrt(dx*dx+dy*dy);

      if(dist < 24){
        const safeDist = Math.max(dist, 0.001);
        b.vx += (dx/safeDist) * 0.58;
        b.vy += (dy/safeDist) * 0.58;
      }
    }

    b.vx *= 0.9;
    b.vy *= 0.9;
    b.x += b.vx;
    b.y += b.vy;

    b.x = clamp(b.x, 4, 96);
    b.y = clamp(b.y, 6, 88);

    // keep away from footer
    if(b.y > 87) b.y = 87;

    b.el.style.left = b.x + "%";
    b.el.style.top  = b.y + "%";
  });
}
</script>

</body>
</html>
